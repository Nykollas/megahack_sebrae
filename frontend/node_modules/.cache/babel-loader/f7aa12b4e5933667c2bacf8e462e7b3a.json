{"ast":null,"code":"var _jsxFileName = \"/home/ascencion/sebrae_megahack/src/components/MenuBar/Menu/Menu.tsx\";\nimport React, { useState, useRef, useCallback } from 'react';\nimport AboutDialog from '../AboutDialog/AboutDialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuContainer from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport UserAvatar from '../UserAvatar/UserAvatar';\nimport { useAppState } from '../../../state';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\nexport default function Menu() {\n  const {\n    user,\n    signOut\n  } = useAppState();\n  const {\n    room,\n    localTracks\n  } = useVideoContext();\n  const [aboutOpen, setAboutOpen] = useState(false);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const anchorRef = useRef(null);\n  const handleSignOut = useCallback(() => {\n    var _room$disconnect;\n\n    (_room$disconnect = room.disconnect) === null || _room$disconnect === void 0 ? void 0 : _room$disconnect.call(room);\n    localTracks.forEach(track => track.stop());\n    signOut === null || signOut === void 0 ? void 0 : signOut();\n  }, [room.disconnect, localTracks, signOut]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: anchorRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    color: \"inherit\",\n    onClick: () => setMenuOpen(state => !state),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, user ? /*#__PURE__*/React.createElement(UserAvatar, {\n    user: user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }) : /*#__PURE__*/React.createElement(MoreIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 46\n    }\n  })), /*#__PURE__*/React.createElement(MenuContainer, {\n    open: menuOpen,\n    onClose: () => setMenuOpen(state => !state),\n    anchorEl: anchorRef.current,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, (user === null || user === void 0 ? void 0 : user.displayName) && /*#__PURE__*/React.createElement(MenuItem, {\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 31\n    }\n  }, user.displayName), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: () => setAboutOpen(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, \"About\"), user && /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleSignOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 18\n    }\n  }, \"Logout\")), /*#__PURE__*/React.createElement(AboutDialog, {\n    open: aboutOpen,\n    onClose: () => {\n      setAboutOpen(false);\n      setMenuOpen(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/src/components/MenuBar/Menu/Menu.tsx"],"names":["React","useState","useRef","useCallback","AboutDialog","IconButton","MenuContainer","MenuItem","MoreIcon","UserAvatar","useAppState","useVideoContext","Menu","user","signOut","room","localTracks","aboutOpen","setAboutOpen","menuOpen","setMenuOpen","anchorRef","handleSignOut","disconnect","forEach","track","stop","state","current","displayName"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport AboutDialog from '../AboutDialog/AboutDialog';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuContainer from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MoreIcon from '@material-ui/icons/MoreVert';\nimport UserAvatar from '../UserAvatar/UserAvatar';\n\nimport { useAppState } from '../../../state';\nimport useVideoContext from '../../../hooks/useVideoContext/useVideoContext';\n\nexport default function Menu() {\n  const { user, signOut } = useAppState();\n  const { room, localTracks } = useVideoContext();\n\n  const [aboutOpen, setAboutOpen] = useState(false);\n  const [menuOpen, setMenuOpen] = useState(false);\n\n  const anchorRef = useRef<HTMLDivElement>(null);\n\n  const handleSignOut = useCallback(() => {\n    room.disconnect?.();\n    localTracks.forEach(track => track.stop());\n    signOut?.();\n  }, [room.disconnect, localTracks, signOut]);\n\n  return (\n    <div ref={anchorRef}>\n      <IconButton color=\"inherit\" onClick={() => setMenuOpen(state => !state)}>\n        {user ? <UserAvatar user={user} /> : <MoreIcon />}\n      </IconButton>\n      <MenuContainer open={menuOpen} onClose={() => setMenuOpen(state => !state)} anchorEl={anchorRef.current}>\n        {user?.displayName && <MenuItem disabled>{user.displayName}</MenuItem>}\n        <MenuItem onClick={() => setAboutOpen(true)}>About</MenuItem>\n        {user && <MenuItem onClick={handleSignOut}>Logout</MenuItem>}\n      </MenuContainer>\n      <AboutDialog\n        open={aboutOpen}\n        onClose={() => {\n          setAboutOpen(false);\n          setMenuOpen(false);\n        }}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}