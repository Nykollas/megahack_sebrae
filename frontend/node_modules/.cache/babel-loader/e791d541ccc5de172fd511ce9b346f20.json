{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst syncerror_1 = require(\"./syncerror\");\n/**\n * Deep-clone an object. Note that this does not work on object containing\n * functions.\n * @param {object} obj - the object to deep-clone\n * @returns {object}\n */\n\n\nfunction deepClone(obj) {\n  return JSON.parse(JSON.stringify(obj));\n}\n\nexports.deepClone = deepClone;\n\nfunction validateTtl(ttl, optional) {\n  if (optional && ttl === undefined) {\n    return;\n  }\n\n  const ttlType = typeof ttl;\n\n  if (ttlType !== 'number' || !isNonNegativeInteger(ttl)) {\n    const providedValue = ttlType === 'object' ? 'object' : `'${ttl}' of type '${ttlType}'`;\n    throw new syncerror_1.default(`Invalid TTL, expected a positive integer of type number, was ${providedValue}`, 400, 54011);\n  }\n}\n\nfunction validateId(id) {\n  if (id === undefined) {\n    return;\n  }\n\n  const idType = typeof id;\n\n  if (idType !== 'string') {\n    throw new Error(`Invalid ID type, expected a string, got '${idType}'`);\n  }\n}\n\nexports.validateId = validateId;\n\nfunction validateOptionalTtl(ttl) {\n  validateTtl(ttl, true);\n}\n\nexports.validateOptionalTtl = validateOptionalTtl;\n\nfunction validateMandatoryTtl(ttl) {\n  validateTtl(ttl, false);\n}\n\nexports.validateMandatoryTtl = validateMandatoryTtl;\n\nfunction validatePageSize(pageSize) {\n  const validPageSize = pageSize === undefined || isPositiveInteger(pageSize);\n\n  if (!validPageSize) {\n    throw new syncerror_1.default(`Invalid pageSize parameter. Expected a positive integer, was '${pageSize}'.`, 400, 54455);\n  }\n}\n\nexports.validatePageSize = validatePageSize;\n\nfunction isInteger(number) {\n  return !isNaN(parseInt(number)) && isFinite(number);\n}\n\nfunction isPositiveInteger(number) {\n  return isInteger(number) && number > 0;\n}\n\nfunction isNonNegativeInteger(number) {\n  return isInteger(number) && number >= 0;\n}","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/node_modules/twilio-sync/lib/utils/sanitize.js"],"names":["Object","defineProperty","exports","value","syncerror_1","require","deepClone","obj","JSON","parse","stringify","validateTtl","ttl","optional","undefined","ttlType","isNonNegativeInteger","providedValue","default","validateId","id","idType","Error","validateOptionalTtl","validateMandatoryTtl","validatePageSize","pageSize","validPageSize","isPositiveInteger","isInteger","number","isNaN","parseInt","isFinite"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,WAAW,GAAGC,OAAO,CAAC,aAAD,CAA3B;AACA;;;;;;;;AAMA,SAASC,SAAT,CAAmBC,GAAnB,EAAwB;AACpB,SAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,GAAf,CAAX,CAAP;AACH;;AACDL,OAAO,CAACI,SAAR,GAAoBA,SAApB;;AACA,SAASK,WAAT,CAAqBC,GAArB,EAA0BC,QAA1B,EAAoC;AAChC,MAAIA,QAAQ,IAAID,GAAG,KAAKE,SAAxB,EAAmC;AAC/B;AACH;;AACD,QAAMC,OAAO,GAAG,OAAOH,GAAvB;;AACA,MAAIG,OAAO,KAAK,QAAZ,IAAwB,CAACC,oBAAoB,CAACJ,GAAD,CAAjD,EAAwD;AACpD,UAAMK,aAAa,GAAGF,OAAO,KAAK,QAAZ,GAAuB,QAAvB,GAAmC,IAAGH,GAAI,cAAaG,OAAQ,GAArF;AACA,UAAM,IAAIX,WAAW,CAACc,OAAhB,CAAyB,gEAA+DD,aAAc,EAAtG,EAAyG,GAAzG,EAA8G,KAA9G,CAAN;AACH;AACJ;;AACD,SAASE,UAAT,CAAoBC,EAApB,EAAwB;AACpB,MAAIA,EAAE,KAAKN,SAAX,EAAsB;AAClB;AACH;;AACD,QAAMO,MAAM,GAAG,OAAOD,EAAtB;;AACA,MAAIC,MAAM,KAAK,QAAf,EAAyB;AACrB,UAAM,IAAIC,KAAJ,CAAW,4CAA2CD,MAAO,GAA7D,CAAN;AACH;AACJ;;AACDnB,OAAO,CAACiB,UAAR,GAAqBA,UAArB;;AACA,SAASI,mBAAT,CAA6BX,GAA7B,EAAkC;AAC9BD,EAAAA,WAAW,CAACC,GAAD,EAAM,IAAN,CAAX;AACH;;AACDV,OAAO,CAACqB,mBAAR,GAA8BA,mBAA9B;;AACA,SAASC,oBAAT,CAA8BZ,GAA9B,EAAmC;AAC/BD,EAAAA,WAAW,CAACC,GAAD,EAAM,KAAN,CAAX;AACH;;AACDV,OAAO,CAACsB,oBAAR,GAA+BA,oBAA/B;;AACA,SAASC,gBAAT,CAA0BC,QAA1B,EAAoC;AAChC,QAAMC,aAAa,GAAGD,QAAQ,KAAKZ,SAAb,IAA0Bc,iBAAiB,CAACF,QAAD,CAAjE;;AACA,MAAI,CAACC,aAAL,EAAoB;AAChB,UAAM,IAAIvB,WAAW,CAACc,OAAhB,CAAyB,iEAAgEQ,QAAS,IAAlG,EAAuG,GAAvG,EAA4G,KAA5G,CAAN;AACH;AACJ;;AACDxB,OAAO,CAACuB,gBAAR,GAA2BA,gBAA3B;;AACA,SAASI,SAAT,CAAmBC,MAAnB,EAA2B;AACvB,SAAO,CAACC,KAAK,CAACC,QAAQ,CAACF,MAAD,CAAT,CAAN,IAA4BG,QAAQ,CAACH,MAAD,CAA3C;AACH;;AACD,SAASF,iBAAT,CAA2BE,MAA3B,EAAmC;AAC/B,SAAOD,SAAS,CAACC,MAAD,CAAT,IAAqBA,MAAM,GAAG,CAArC;AACH;;AACD,SAASd,oBAAT,CAA8Bc,MAA9B,EAAsC;AAClC,SAAOD,SAAS,CAACC,MAAD,CAAT,IAAqBA,MAAM,IAAI,CAAtC;AACH","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst syncerror_1 = require(\"./syncerror\");\n/**\n * Deep-clone an object. Note that this does not work on object containing\n * functions.\n * @param {object} obj - the object to deep-clone\n * @returns {object}\n */\nfunction deepClone(obj) {\n    return JSON.parse(JSON.stringify(obj));\n}\nexports.deepClone = deepClone;\nfunction validateTtl(ttl, optional) {\n    if (optional && ttl === undefined) {\n        return;\n    }\n    const ttlType = typeof ttl;\n    if (ttlType !== 'number' || !isNonNegativeInteger(ttl)) {\n        const providedValue = ttlType === 'object' ? 'object' : `'${ttl}' of type '${ttlType}'`;\n        throw new syncerror_1.default(`Invalid TTL, expected a positive integer of type number, was ${providedValue}`, 400, 54011);\n    }\n}\nfunction validateId(id) {\n    if (id === undefined) {\n        return;\n    }\n    const idType = typeof id;\n    if (idType !== 'string') {\n        throw new Error(`Invalid ID type, expected a string, got '${idType}'`);\n    }\n}\nexports.validateId = validateId;\nfunction validateOptionalTtl(ttl) {\n    validateTtl(ttl, true);\n}\nexports.validateOptionalTtl = validateOptionalTtl;\nfunction validateMandatoryTtl(ttl) {\n    validateTtl(ttl, false);\n}\nexports.validateMandatoryTtl = validateMandatoryTtl;\nfunction validatePageSize(pageSize) {\n    const validPageSize = pageSize === undefined || isPositiveInteger(pageSize);\n    if (!validPageSize) {\n        throw new syncerror_1.default(`Invalid pageSize parameter. Expected a positive integer, was '${pageSize}'.`, 400, 54455);\n    }\n}\nexports.validatePageSize = validatePageSize;\nfunction isInteger(number) {\n    return !isNaN(parseInt(number)) && isFinite(number);\n}\nfunction isPositiveInteger(number) {\n    return isInteger(number) && number > 0;\n}\nfunction isNonNegativeInteger(number) {\n    return isInteger(number) && number >= 0;\n}\n"]},"metadata":{},"sourceType":"script"}