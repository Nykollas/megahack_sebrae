{"ast":null,"code":"\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @classdesc A Media represents a media information for Message in a Channel.\n * @property {String} contentType - content type of media\n * @property {String} sid - The server-assigned unique identifier for Media\n * @property {Number} size - Size of media, bytes\n * @property {String} [filename] - file name if present, null otherwise\n */\n\nvar Media = function () {\n  function Media(data, services) {\n    (0, _classCallCheck3.default)(this, Media);\n    this.mcsMedia = null;\n    this.services = services;\n    this.state = {\n      sid: data.sid,\n      filename: data.filename,\n      contentType: data.contentType,\n      size: data.size\n    };\n  }\n\n  (0, _createClass3.default)(Media, [{\n    key: \"getContentUrl\",\n\n    /**\n     * Returns direct content URL for the media.\n     * @returns {Promise<String>}\n     */\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.mcsMedia) {\n                  _context.next = 8;\n                  break;\n                }\n\n                if (!this.services.mcsClient) {\n                  _context.next = 7;\n                  break;\n                }\n\n                _context.next = 4;\n                return this.services.mcsClient.get(this.state.sid);\n\n              case 4:\n                this.mcsMedia = _context.sent;\n                _context.next = 8;\n                break;\n\n              case 7:\n                throw new Error('Media Content Service is unavailable');\n\n              case 8:\n                return _context.abrupt(\"return\", this.mcsMedia.getContentUrl());\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getContentUrl() {\n        return _ref.apply(this, arguments);\n      }\n\n      return getContentUrl;\n    }()\n  }, {\n    key: \"sid\",\n    get: function get() {\n      return this.state.sid;\n    }\n  }, {\n    key: \"filename\",\n    get: function get() {\n      return this.state.filename;\n    }\n  }, {\n    key: \"contentType\",\n    get: function get() {\n      return this.state.contentType;\n    }\n  }, {\n    key: \"size\",\n    get: function get() {\n      return this.state.size;\n    }\n  }]);\n  return Media;\n}();\n\nexports.Media = Media;","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/node_modules/twilio-chat/browser/media.js"],"names":["_regenerator","require","_regenerator2","_interopRequireDefault","_asyncToGenerator2","_asyncToGenerator3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","obj","__esModule","default","Object","defineProperty","exports","value","Media","data","services","mcsMedia","state","sid","filename","contentType","size","key","_ref","mark","_callee","wrap","_callee$","_context","prev","next","mcsClient","get","sent","Error","abrupt","getContentUrl","stop","apply","arguments"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * @classdesc A Media represents a media information for Message in a Channel.\n * @property {String} contentType - content type of media\n * @property {String} sid - The server-assigned unique identifier for Media\n * @property {Number} size - Size of media, bytes\n * @property {String} [filename] - file name if present, null otherwise\n */\n\nvar Media = function () {\n    function Media(data, services) {\n        (0, _classCallCheck3.default)(this, Media);\n\n        this.mcsMedia = null;\n        this.services = services;\n        this.state = {\n            sid: data.sid,\n            filename: data.filename,\n            contentType: data.contentType,\n            size: data.size\n        };\n    }\n\n    (0, _createClass3.default)(Media, [{\n        key: \"getContentUrl\",\n\n        /**\n         * Returns direct content URL for the media.\n         * @returns {Promise<String>}\n         */\n        value: function () {\n            var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (this.mcsMedia) {\n                                    _context.next = 8;\n                                    break;\n                                }\n\n                                if (!this.services.mcsClient) {\n                                    _context.next = 7;\n                                    break;\n                                }\n\n                                _context.next = 4;\n                                return this.services.mcsClient.get(this.state.sid);\n\n                            case 4:\n                                this.mcsMedia = _context.sent;\n                                _context.next = 8;\n                                break;\n\n                            case 7:\n                                throw new Error('Media Content Service is unavailable');\n\n                            case 8:\n                                return _context.abrupt(\"return\", this.mcsMedia.getContentUrl());\n\n                            case 9:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            function getContentUrl() {\n                return _ref.apply(this, arguments);\n            }\n\n            return getContentUrl;\n        }()\n    }, {\n        key: \"sid\",\n        get: function get() {\n            return this.state.sid;\n        }\n    }, {\n        key: \"filename\",\n        get: function get() {\n            return this.state.filename;\n        }\n    }, {\n        key: \"contentType\",\n        get: function get() {\n            return this.state.contentType;\n        }\n    }, {\n        key: \"size\",\n        get: function get() {\n            return this.state.size;\n        }\n    }]);\n    return Media;\n}();\n\nexports.Media = Media;"]},"metadata":{},"sourceType":"script"}