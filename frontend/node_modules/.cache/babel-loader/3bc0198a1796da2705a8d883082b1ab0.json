{"ast":null,"code":"'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _require = require('./'),\n    isNonArrayObject = _require.isNonArrayObject;\n\nvar _require2 = require('./constants'),\n    E = _require2.typeErrors,\n    subscriptionMode = _require2.subscriptionMode,\n    trackPriority = _require2.trackPriority,\n    trackSwitchOffMode = _require2.trackSwitchOffMode;\n/**\n * Validate the {@link BandwidthProfileOptions} object.\n * @param {BandwidthProfileOptions} bandwidthProfile\n * @returns {?Error} - null if valid, Error if not.\n */\n\n\nfunction validateBandwidthProfile(bandwidthProfile) {\n  var error = validateObject(bandwidthProfile, 'options.bandwidthProfile');\n\n  if (!bandwidthProfile || error) {\n    return error;\n  }\n\n  error = validateObject(bandwidthProfile.video, 'options.bandwidthProfile.video', [{\n    prop: 'dominantSpeakerPriority',\n    values: Object.values(trackPriority)\n  }, {\n    prop: 'maxSubscriptionBitrate',\n    type: 'number'\n  }, {\n    prop: 'maxTracks',\n    type: 'number'\n  }, {\n    prop: 'mode',\n    values: Object.values(subscriptionMode)\n  }, {\n    prop: 'trackSwitchOffMode',\n    values: Object.values(trackSwitchOffMode)\n  }]);\n  return error || (bandwidthProfile.video ? validateRenderDimensions(bandwidthProfile.video.renderDimensions) : null);\n}\n/**\n * Throw if the given track is not a {@link LocalAudioTrack}, a\n * {@link LocalVideoTrack} or a MediaStreamTrack.\n * @param {*} track\n * @param {object} options\n */\n\n\nfunction validateLocalTrack(track, options) {\n  if (!(track instanceof options.LocalAudioTrack || track instanceof options.LocalDataTrack || track instanceof options.LocalVideoTrack || track instanceof options.MediaStreamTrack)) {\n    /* eslint new-cap:0 */\n    throw E.INVALID_TYPE('track', 'LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack');\n  }\n}\n/**\n * Validate an object. An object is valid if it is undefined or a non-null, non-array\n * object whose properties satisfy the specified data-type or value-range requirements.\n * @param {object} object - the object to be validated\n * @param {string} name - the object name to be used to build the error message, if invalid\n * @param {Array<object>} [propChecks] - optional data-type or value-range requirements\n *   for the object's properties\n * @returns {?Error} - null if object is valid, Error if not\n */\n\n\nfunction validateObject(object, name) {\n  var propChecks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : []; // NOTE(mmalavalli): We determine that an undefined object is valid because this\n  // means the parent object does not contain this object as a property, which is\n  // a valid scenario.\n\n  if (typeof object === 'undefined') {\n    return null;\n  } // NOTE(mmalavalli): We determine that if the object is null, or an Array, or\n  // any other non-object type, then it is invalid.\n\n\n  if (object === null || !isNonArrayObject(object)) {\n    return E.INVALID_TYPE(name, 'object');\n  } // NOTE(mmalavalli): We determine that the object is invalid if at least one of\n  // its properties does not satisfy its data-type or value-range requirement.\n\n\n  return propChecks.reduce(function (error, _ref) {\n    var prop = _ref.prop,\n        type = _ref.type,\n        values = _ref.values;\n\n    if (error || !(prop in object)) {\n      return error;\n    }\n\n    var value = object[prop];\n\n    if (type && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== type) {\n      return E.INVALID_TYPE(name + '.' + prop, type);\n    }\n\n    if (type === 'number' && isNaN(value)) {\n      return E.INVALID_TYPE(name + '.' + prop, type);\n    }\n\n    if (Array.isArray(values) && !values.includes(value)) {\n      return E.INVALID_VALUE(name + '.' + prop, values);\n    }\n\n    return error;\n  }, null);\n}\n/**\n * Validate the {@link VideoRenderDimensions} object.\n * @param {VideoRenderDimensions} renderDimensions\n * @returns {?Error} - null if valid, Error if not.\n */\n\n\nfunction validateRenderDimensions(renderDimensions) {\n  var name = 'options.bandwidthProfile.video.renderDimensions';\n  var error = validateObject(renderDimensions, name);\n  return renderDimensions ? error || Object.values(trackPriority).reduce(function (error, prop) {\n    return error || validateObject(renderDimensions[prop], name + '.' + prop, [{\n      prop: 'height',\n      type: 'number'\n    }, {\n      prop: 'width',\n      type: 'number'\n    }]);\n  }, null) : error;\n}\n\nexports.validateBandwidthProfile = validateBandwidthProfile;\nexports.validateLocalTrack = validateLocalTrack;\nexports.validateObject = validateObject;","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/node_modules/twilio-video/es5/util/validate.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","_require","require","isNonArrayObject","_require2","E","typeErrors","subscriptionMode","trackPriority","trackSwitchOffMode","validateBandwidthProfile","bandwidthProfile","error","validateObject","video","prop","values","Object","type","validateRenderDimensions","renderDimensions","validateLocalTrack","track","options","LocalAudioTrack","LocalDataTrack","LocalVideoTrack","MediaStreamTrack","INVALID_TYPE","object","name","propChecks","arguments","length","undefined","reduce","_ref","value","isNaN","Array","isArray","includes","INVALID_VALUE","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _require = require('./'),\n    isNonArrayObject = _require.isNonArrayObject;\n\nvar _require2 = require('./constants'),\n    E = _require2.typeErrors,\n    subscriptionMode = _require2.subscriptionMode,\n    trackPriority = _require2.trackPriority,\n    trackSwitchOffMode = _require2.trackSwitchOffMode;\n\n/**\n * Validate the {@link BandwidthProfileOptions} object.\n * @param {BandwidthProfileOptions} bandwidthProfile\n * @returns {?Error} - null if valid, Error if not.\n */\n\n\nfunction validateBandwidthProfile(bandwidthProfile) {\n  var error = validateObject(bandwidthProfile, 'options.bandwidthProfile');\n  if (!bandwidthProfile || error) {\n    return error;\n  }\n  error = validateObject(bandwidthProfile.video, 'options.bandwidthProfile.video', [{ prop: 'dominantSpeakerPriority', values: Object.values(trackPriority) }, { prop: 'maxSubscriptionBitrate', type: 'number' }, { prop: 'maxTracks', type: 'number' }, { prop: 'mode', values: Object.values(subscriptionMode) }, { prop: 'trackSwitchOffMode', values: Object.values(trackSwitchOffMode) }]);\n  return error || (bandwidthProfile.video ? validateRenderDimensions(bandwidthProfile.video.renderDimensions) : null);\n}\n\n/**\n * Throw if the given track is not a {@link LocalAudioTrack}, a\n * {@link LocalVideoTrack} or a MediaStreamTrack.\n * @param {*} track\n * @param {object} options\n */\nfunction validateLocalTrack(track, options) {\n  if (!(track instanceof options.LocalAudioTrack || track instanceof options.LocalDataTrack || track instanceof options.LocalVideoTrack || track instanceof options.MediaStreamTrack)) {\n    /* eslint new-cap:0 */\n    throw E.INVALID_TYPE('track', 'LocalAudioTrack, LocalVideoTrack, LocalDataTrack, or MediaStreamTrack');\n  }\n}\n\n/**\n * Validate an object. An object is valid if it is undefined or a non-null, non-array\n * object whose properties satisfy the specified data-type or value-range requirements.\n * @param {object} object - the object to be validated\n * @param {string} name - the object name to be used to build the error message, if invalid\n * @param {Array<object>} [propChecks] - optional data-type or value-range requirements\n *   for the object's properties\n * @returns {?Error} - null if object is valid, Error if not\n */\nfunction validateObject(object, name) {\n  var propChecks = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n  // NOTE(mmalavalli): We determine that an undefined object is valid because this\n  // means the parent object does not contain this object as a property, which is\n  // a valid scenario.\n  if (typeof object === 'undefined') {\n    return null;\n  }\n  // NOTE(mmalavalli): We determine that if the object is null, or an Array, or\n  // any other non-object type, then it is invalid.\n  if (object === null || !isNonArrayObject(object)) {\n    return E.INVALID_TYPE(name, 'object');\n  }\n  // NOTE(mmalavalli): We determine that the object is invalid if at least one of\n  // its properties does not satisfy its data-type or value-range requirement.\n  return propChecks.reduce(function (error, _ref) {\n    var prop = _ref.prop,\n        type = _ref.type,\n        values = _ref.values;\n\n    if (error || !(prop in object)) {\n      return error;\n    }\n    var value = object[prop];\n    if (type && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) !== type) {\n      return E.INVALID_TYPE(name + '.' + prop, type);\n    }\n    if (type === 'number' && isNaN(value)) {\n      return E.INVALID_TYPE(name + '.' + prop, type);\n    }\n    if (Array.isArray(values) && !values.includes(value)) {\n      return E.INVALID_VALUE(name + '.' + prop, values);\n    }\n    return error;\n  }, null);\n}\n\n/**\n * Validate the {@link VideoRenderDimensions} object.\n * @param {VideoRenderDimensions} renderDimensions\n * @returns {?Error} - null if valid, Error if not.\n */\nfunction validateRenderDimensions(renderDimensions) {\n  var name = 'options.bandwidthProfile.video.renderDimensions';\n  var error = validateObject(renderDimensions, name);\n  return renderDimensions ? error || Object.values(trackPriority).reduce(function (error, prop) {\n    return error || validateObject(renderDimensions[prop], name + '.' + prop, [{ prop: 'height', type: 'number' }, { prop: 'width', type: 'number' }]);\n  }, null) : error;\n}\n\nexports.validateBandwidthProfile = validateBandwidthProfile;\nexports.validateLocalTrack = validateLocalTrack;\nexports.validateObject = validateObject;"]},"metadata":{},"sourceType":"script"}