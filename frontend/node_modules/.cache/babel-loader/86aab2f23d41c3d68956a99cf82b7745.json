{"ast":null,"code":"\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar index_1 = require(\"./util/index\");\n\nvar restpaginator_1 = require(\"./restpaginator\");\n\nvar synclistdescriptor_1 = require(\"./synclistdescriptor\");\n/**\n * Provides async pagination interface for sync list\n *\n * @property {Network} network Network transport\n * @property {string} syncListUrl Url to the sync list endpoint\n */\n\n\nvar SyncList = function () {\n  /**\n   * @param {SyncListServices} services - services needed for SyncList service\n   * @private\n   */\n  function SyncList(services) {\n    (0, _classCallCheck3.default)(this, SyncList);\n    this.services = services;\n  }\n\n  (0, _createClass3.default)(SyncList, [{\n    key: \"getPage\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(args) {\n        var _this = this;\n\n        var links, url, response;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                args = args || {};\n                _context.next = 3;\n                return this.services.session.getSessionLinks();\n\n              case 3:\n                links = _context.sent;\n                url = new index_1.UriBuilder(links.syncListUrl).arg('PageToken', args.pageToken).build();\n                _context.next = 7;\n                return this.services.network.get(url);\n\n              case 7:\n                response = _context.sent;\n                return _context.abrupt(\"return\", new restpaginator_1.RestPaginator(response.body.channels.map(function (x) {\n                  return new synclistdescriptor_1.SyncListDescriptor(x);\n                }), function (pageToken) {\n                  return _this.getPage({\n                    pageToken: pageToken\n                  });\n                }, response.body.meta.previous_token, response.body.meta.next_token));\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getPage(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return getPage;\n    }()\n  }]);\n  return SyncList;\n}();\n\nexports.SyncList = SyncList;","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/node_modules/twilio-chat/browser/synclist.js"],"names":["_regenerator","require","_regenerator2","_interopRequireDefault","_asyncToGenerator2","_asyncToGenerator3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","obj","__esModule","default","Object","defineProperty","exports","value","index_1","restpaginator_1","synclistdescriptor_1","SyncList","services","key","_ref","mark","_callee","args","_this","links","url","response","wrap","_callee$","_context","prev","next","session","getSessionLinks","sent","UriBuilder","syncListUrl","arg","pageToken","build","network","get","abrupt","RestPaginator","body","channels","map","x","SyncListDescriptor","getPage","meta","previous_token","next_token","stop","_x","apply","arguments"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar index_1 = require(\"./util/index\");\nvar restpaginator_1 = require(\"./restpaginator\");\nvar synclistdescriptor_1 = require(\"./synclistdescriptor\");\n/**\n * Provides async pagination interface for sync list\n *\n * @property {Network} network Network transport\n * @property {string} syncListUrl Url to the sync list endpoint\n */\n\nvar SyncList = function () {\n    /**\n     * @param {SyncListServices} services - services needed for SyncList service\n     * @private\n     */\n    function SyncList(services) {\n        (0, _classCallCheck3.default)(this, SyncList);\n\n        this.services = services;\n    }\n\n    (0, _createClass3.default)(SyncList, [{\n        key: \"getPage\",\n        value: function () {\n            var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee(args) {\n                var _this = this;\n\n                var links, url, response;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                args = args || {};\n                                _context.next = 3;\n                                return this.services.session.getSessionLinks();\n\n                            case 3:\n                                links = _context.sent;\n                                url = new index_1.UriBuilder(links.syncListUrl).arg('PageToken', args.pageToken).build();\n                                _context.next = 7;\n                                return this.services.network.get(url);\n\n                            case 7:\n                                response = _context.sent;\n                                return _context.abrupt(\"return\", new restpaginator_1.RestPaginator(response.body.channels.map(function (x) {\n                                    return new synclistdescriptor_1.SyncListDescriptor(x);\n                                }), function (pageToken) {\n                                    return _this.getPage({ pageToken: pageToken });\n                                }, response.body.meta.previous_token, response.body.meta.next_token));\n\n                            case 9:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            function getPage(_x) {\n                return _ref.apply(this, arguments);\n            }\n\n            return getPage;\n        }()\n    }]);\n    return SyncList;\n}();\n\nexports.SyncList = SyncList;"]},"metadata":{},"sourceType":"script"}