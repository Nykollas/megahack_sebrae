{"ast":null,"code":"import { useEffect, useState } from 'react';\nexport default function useTrack(publication) {\n  const [track, setTrack] = useState(publication && publication.track);\n  useEffect(() => {\n    // Reset the track when the 'publication' variable changes.\n    setTrack(publication && publication.track);\n\n    if (publication) {\n      const removeTrack = () => setTrack(null);\n\n      publication.on('subscribed', setTrack);\n      publication.on('unsubscribed', removeTrack);\n      return () => {\n        publication.off('subscribed', setTrack);\n        publication.off('unsubscribed', removeTrack);\n      };\n    }\n  }, [publication]);\n  return track;\n}","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/src/hooks/useTrack/useTrack.tsx"],"names":["useEffect","useState","useTrack","publication","track","setTrack","removeTrack","on","off"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAGA,eAAe,SAASC,QAAT,CAAkBC,WAAlB,EAA2F;AACxG,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAACE,WAAW,IAAIA,WAAW,CAACC,KAA5B,CAAlC;AAEAJ,EAAAA,SAAS,CAAC,MAAM;AACd;AACAK,IAAAA,QAAQ,CAACF,WAAW,IAAIA,WAAW,CAACC,KAA5B,CAAR;;AAEA,QAAID,WAAJ,EAAiB;AACf,YAAMG,WAAW,GAAG,MAAMD,QAAQ,CAAC,IAAD,CAAlC;;AAEAF,MAAAA,WAAW,CAACI,EAAZ,CAAe,YAAf,EAA6BF,QAA7B;AACAF,MAAAA,WAAW,CAACI,EAAZ,CAAe,cAAf,EAA+BD,WAA/B;AACA,aAAO,MAAM;AACXH,QAAAA,WAAW,CAACK,GAAZ,CAAgB,YAAhB,EAA8BH,QAA9B;AACAF,QAAAA,WAAW,CAACK,GAAZ,CAAgB,cAAhB,EAAgCF,WAAhC;AACD,OAHD;AAID;AACF,GAdQ,EAcN,CAACH,WAAD,CAdM,CAAT;AAgBA,SAAOC,KAAP;AACD","sourcesContent":["import { useEffect, useState } from 'react';\nimport { LocalTrackPublication, RemoteTrackPublication } from 'twilio-video';\n\nexport default function useTrack(publication: LocalTrackPublication | RemoteTrackPublication | undefined) {\n  const [track, setTrack] = useState(publication && publication.track);\n\n  useEffect(() => {\n    // Reset the track when the 'publication' variable changes.\n    setTrack(publication && publication.track);\n\n    if (publication) {\n      const removeTrack = () => setTrack(null);\n\n      publication.on('subscribed', setTrack);\n      publication.on('unsubscribed', removeTrack);\n      return () => {\n        publication.off('subscribed', setTrack);\n        publication.off('unsubscribed', removeTrack);\n      };\n    }\n  }, [publication]);\n\n  return track;\n}\n"]},"metadata":{},"sourceType":"module"}