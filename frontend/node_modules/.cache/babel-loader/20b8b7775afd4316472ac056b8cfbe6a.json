{"ast":null,"code":"\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar index_1 = require(\"../util/index\");\n\nvar restpaginator_1 = require(\"../restpaginator\");\n\nvar channeldescriptor_1 = require(\"../channeldescriptor\");\n/**\n * Public channels collection\n * It's a cassandra-backed pull-based collection\n */\n\n\nvar PublicChannels = function () {\n  function PublicChannels(client, services, url) {\n    (0, _classCallCheck3.default)(this, PublicChannels);\n    this.client = client;\n    this.services = services;\n    this.url = url;\n  }\n\n  (0, _createClass3.default)(PublicChannels, [{\n    key: \"getChannels\",\n    value: function () {\n      var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n        var _this = this;\n\n        var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var url, response;\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                url = new index_1.UriBuilder(this.url).arg('PageToken', args.pageToken).build();\n                _context.next = 3;\n                return this.services.network.get(url);\n\n              case 3:\n                response = _context.sent;\n                return _context.abrupt(\"return\", new restpaginator_1.RestPaginator(response.body.channels.map(function (x) {\n                  return new channeldescriptor_1.ChannelDescriptor(_this.client, x);\n                }), function (pageToken) {\n                  return _this.getChannels({\n                    pageToken: pageToken\n                  });\n                }, response.body.meta.previous_token, response.body.meta.next_token));\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getChannels() {\n        return _ref.apply(this, arguments);\n      }\n\n      return getChannels;\n    }()\n  }, {\n    key: \"getChannelBySid\",\n    value: function () {\n      var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(sid) {\n        var url, response;\n        return _regenerator2.default.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                url = new index_1.UriBuilder(this.url).path(sid).build();\n                _context2.next = 3;\n                return this.services.network.get(url);\n\n              case 3:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", new channeldescriptor_1.ChannelDescriptor(this.client, response.body));\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getChannelBySid(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return getChannelBySid;\n    }()\n  }, {\n    key: \"getChannelByUniqueName\",\n    value: function () {\n      var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(uniqueName) {\n        var url, response;\n        return _regenerator2.default.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                url = new index_1.UriBuilder(this.url).path(uniqueName).build();\n                _context3.next = 3;\n                return this.services.network.get(url);\n\n              case 3:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", new channeldescriptor_1.ChannelDescriptor(this.client, response.body));\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getChannelByUniqueName(_x3) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return getChannelByUniqueName;\n    }()\n  }]);\n  return PublicChannels;\n}();\n\nexports.PublicChannels = PublicChannels;","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/node_modules/twilio-chat/browser/data/publicchannels.js"],"names":["_regenerator","require","_regenerator2","_interopRequireDefault","_asyncToGenerator2","_asyncToGenerator3","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","obj","__esModule","default","Object","defineProperty","exports","value","index_1","restpaginator_1","channeldescriptor_1","PublicChannels","client","services","url","key","_ref","mark","_callee","_this","args","arguments","length","undefined","response","wrap","_callee$","_context","prev","next","UriBuilder","arg","pageToken","build","network","get","sent","abrupt","RestPaginator","body","channels","map","x","ChannelDescriptor","getChannels","meta","previous_token","next_token","stop","apply","_ref2","_callee2","sid","_callee2$","_context2","path","getChannelBySid","_x2","_ref3","_callee3","uniqueName","_callee3$","_context3","getChannelByUniqueName","_x3"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _regenerator = require(\"babel-runtime/regenerator\");\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require(\"babel-runtime/helpers/asyncToGenerator\");\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar index_1 = require(\"../util/index\");\nvar restpaginator_1 = require(\"../restpaginator\");\nvar channeldescriptor_1 = require(\"../channeldescriptor\");\n/**\n * Public channels collection\n * It's a cassandra-backed pull-based collection\n */\n\nvar PublicChannels = function () {\n    function PublicChannels(client, services, url) {\n        (0, _classCallCheck3.default)(this, PublicChannels);\n\n        this.client = client;\n        this.services = services;\n        this.url = url;\n    }\n\n    (0, _createClass3.default)(PublicChannels, [{\n        key: \"getChannels\",\n        value: function () {\n            var _ref = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee() {\n                var _this = this;\n\n                var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n                var url, response;\n                return _regenerator2.default.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                url = new index_1.UriBuilder(this.url).arg('PageToken', args.pageToken).build();\n                                _context.next = 3;\n                                return this.services.network.get(url);\n\n                            case 3:\n                                response = _context.sent;\n                                return _context.abrupt(\"return\", new restpaginator_1.RestPaginator(response.body.channels.map(function (x) {\n                                    return new channeldescriptor_1.ChannelDescriptor(_this.client, x);\n                                }), function (pageToken) {\n                                    return _this.getChannels({ pageToken: pageToken });\n                                }, response.body.meta.previous_token, response.body.meta.next_token));\n\n                            case 5:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n\n            function getChannels() {\n                return _ref.apply(this, arguments);\n            }\n\n            return getChannels;\n        }()\n    }, {\n        key: \"getChannelBySid\",\n        value: function () {\n            var _ref2 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee2(sid) {\n                var url, response;\n                return _regenerator2.default.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                url = new index_1.UriBuilder(this.url).path(sid).build();\n                                _context2.next = 3;\n                                return this.services.network.get(url);\n\n                            case 3:\n                                response = _context2.sent;\n                                return _context2.abrupt(\"return\", new channeldescriptor_1.ChannelDescriptor(this.client, response.body));\n\n                            case 5:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n\n            function getChannelBySid(_x2) {\n                return _ref2.apply(this, arguments);\n            }\n\n            return getChannelBySid;\n        }()\n    }, {\n        key: \"getChannelByUniqueName\",\n        value: function () {\n            var _ref3 = (0, _asyncToGenerator3.default)( /*#__PURE__*/_regenerator2.default.mark(function _callee3(uniqueName) {\n                var url, response;\n                return _regenerator2.default.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                url = new index_1.UriBuilder(this.url).path(uniqueName).build();\n                                _context3.next = 3;\n                                return this.services.network.get(url);\n\n                            case 3:\n                                response = _context3.sent;\n                                return _context3.abrupt(\"return\", new channeldescriptor_1.ChannelDescriptor(this.client, response.body));\n\n                            case 5:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this);\n            }));\n\n            function getChannelByUniqueName(_x3) {\n                return _ref3.apply(this, arguments);\n            }\n\n            return getChannelByUniqueName;\n        }()\n    }]);\n    return PublicChannels;\n}();\n\nexports.PublicChannels = PublicChannels;"]},"metadata":{},"sourceType":"script"}