{"ast":null,"code":"var _jsxFileName = \"/home/ascencion/sebrae_megahack/src/components/MainParticipantInfo/MainParticipantInfo.tsx\";\nimport React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BandwidthWarning from '../BandwidthWarning/BandwidthWarning';\nimport useIsTrackSwitchedOff from '../../hooks/useIsTrackSwitchedOff/useIsTrackSwitchedOff';\nimport usePublications from '../../hooks/usePublications/usePublications';\nimport useTrack from '../../hooks/useTrack/useTrack';\nimport VideocamOff from '@material-ui/icons/VideocamOff';\nconst useStyles = makeStyles({\n  container: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 5,\n    gridArea: 'participantList',\n    '& video': {\n      display: 'flex',\n      heigth: \"90%\",\n      flex: 1,\n      paddingBottom: \"64px\",\n      paddingRight: \"32px\",\n      paddingTop: \"16px\"\n    }\n  },\n  isVideoSwitchedOff: {\n    '& video': {\n      filter: 'blur(4px) grayscale(1) brightness(0.5)'\n    }\n  },\n  identity: {\n    background: 'rgba(0, 0, 0, 0.7)',\n    padding: '0.1em 0.3em',\n    margin: '1em',\n    fontSize: '1.2em',\n    display: 'inline-flex',\n    '& svg': {\n      marginLeft: '0.3em'\n    }\n  },\n  infoContainer: {\n    position: 'absolute',\n    zIndex: 1,\n    height: '90%',\n    padding: '0.4em',\n    width: '90%'\n  }\n});\nexport default function MainParticipantInfo({\n  participant,\n  children\n}) {\n  const classes = useStyles();\n  const publications = usePublications(participant);\n  const videoPublication = publications.find(p => p.trackName === 'camera');\n  const screenSharePublication = publications.find(p => p.trackName === 'screen');\n  const isVideoEnabled = Boolean(videoPublication);\n  const videoTrack = useTrack(screenSharePublication || videoPublication);\n  const isVideoSwitchedOff = useIsTrackSwitchedOff(videoTrack);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-cy-main-participant\": true,\n    className: clsx(classes.container, {\n      [classes.isVideoSwitchedOff]: isVideoSwitchedOff\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.infoContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: classes.identity,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, participant.identity, !isVideoEnabled && /*#__PURE__*/React.createElement(VideocamOff, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 31\n    }\n  }))), isVideoSwitchedOff && /*#__PURE__*/React.createElement(BandwidthWarning, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 30\n    }\n  }), children);\n}","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/src/components/MainParticipantInfo/MainParticipantInfo.tsx"],"names":["React","clsx","makeStyles","BandwidthWarning","useIsTrackSwitchedOff","usePublications","useTrack","VideocamOff","useStyles","container","position","display","alignItems","justifyContent","flex","gridArea","heigth","paddingBottom","paddingRight","paddingTop","isVideoSwitchedOff","filter","identity","background","padding","margin","fontSize","marginLeft","infoContainer","zIndex","height","width","MainParticipantInfo","participant","children","classes","publications","videoPublication","find","p","trackName","screenSharePublication","isVideoEnabled","Boolean","videoTrack"],"mappings":"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","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { LocalVideoTrack, Participant, RemoteVideoTrack } from 'twilio-video';\n\nimport BandwidthWarning from '../BandwidthWarning/BandwidthWarning';\nimport useIsTrackSwitchedOff from '../../hooks/useIsTrackSwitchedOff/useIsTrackSwitchedOff';\nimport usePublications from '../../hooks/usePublications/usePublications';\nimport useTrack from '../../hooks/useTrack/useTrack';\nimport VideocamOff from '@material-ui/icons/VideocamOff';\n\nconst useStyles = makeStyles({\n  container: {\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent:'center',\n    flex:5,\n    gridArea: 'participantList',\n    '& video': {\n      display:'flex',\n      heigth:\"90%\",\n      flex:1,\n      paddingBottom:\"64px\",\n      paddingRight:\"32px\",\n      paddingTop:\"16px\"\n    },\n  },\n  isVideoSwitchedOff: {\n    '& video': {\n      filter: 'blur(4px) grayscale(1) brightness(0.5)',\n    },\n  },\n  identity: {\n    background: 'rgba(0, 0, 0, 0.7)',\n    padding: '0.1em 0.3em',\n    margin: '1em',\n    fontSize: '1.2em',\n    display: 'inline-flex',\n    '& svg': {\n      marginLeft: '0.3em',\n    },\n  },\n  infoContainer: {\n    position: 'absolute',\n    zIndex: 1,\n    height: '90%',\n    padding: '0.4em',\n    width: '90%',\n  },\n});\n\ninterface MainParticipantInfoProps {\n  participant: Participant;\n  children: React.ReactNode;\n}\n\nexport default function MainParticipantInfo({ participant, children }: MainParticipantInfoProps) {\n  const classes = useStyles();\n\n  const publications = usePublications(participant);\n  const videoPublication = publications.find(p => p.trackName === 'camera');\n  const screenSharePublication = publications.find(p => p.trackName === 'screen');\n  const isVideoEnabled = Boolean(videoPublication);\n\n  const videoTrack = useTrack(screenSharePublication || videoPublication);\n  const isVideoSwitchedOff = useIsTrackSwitchedOff(videoTrack as LocalVideoTrack | RemoteVideoTrack);\n\n  return (\n    <div\n      data-cy-main-participant\n      className={clsx(classes.container, { [classes.isVideoSwitchedOff]: isVideoSwitchedOff })}\n    >\n      <div className={classes.infoContainer}>\n        <h4 className={classes.identity}>\n          {participant.identity}\n          {!isVideoEnabled && <VideocamOff />}\n        </h4>\n      </div>\n      {isVideoSwitchedOff && <BandwidthWarning />}\n      {children}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}