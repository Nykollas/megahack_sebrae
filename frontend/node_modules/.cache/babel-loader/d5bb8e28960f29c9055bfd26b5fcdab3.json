{"ast":null,"code":"var _jsxFileName = \"/home/ascencion/sebrae_megahack/src/components/VideoProvider/useSelectedParticipant/useSelectedParticipant.tsx\";\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nexport const selectedParticipantContext = createContext(null);\nexport default function useSelectedParticipant() {\n  const [selectedParticipant, setSelectedParticipant] = useContext(selectedParticipantContext);\n  return [selectedParticipant, setSelectedParticipant];\n}\nexport function SelectedParticipantProvider({\n  room,\n  children\n}) {\n  const [selectedParticipant, _setSelectedParticipant] = useState(null);\n\n  const setSelectedParticipant = participant => _setSelectedParticipant(prevParticipant => prevParticipant === participant ? null : participant);\n\n  useEffect(() => {\n    const onDisconnect = () => _setSelectedParticipant(null);\n\n    room.on('disconnected', onDisconnect);\n    return () => {\n      room.off('disconnected', onDisconnect);\n    };\n  }, [room]);\n  return /*#__PURE__*/React.createElement(selectedParticipantContext.Provider, {\n    value: [selectedParticipant, setSelectedParticipant],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, children);\n}","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/src/components/VideoProvider/useSelectedParticipant/useSelectedParticipant.tsx"],"names":["React","createContext","useContext","useState","useEffect","selectedParticipantContext","useSelectedParticipant","selectedParticipant","setSelectedParticipant","SelectedParticipantProvider","room","children","_setSelectedParticipant","participant","prevParticipant","onDisconnect","on","off"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,QAA3C,EAAqDC,SAArD,QAAsE,OAAtE;AAKA,OAAO,MAAMC,0BAA0B,GAAGJ,aAAa,CAAiC,IAAjC,CAAhD;AAEP,eAAe,SAASK,sBAAT,GAAkC;AAC/C,QAAM,CAACC,mBAAD,EAAsBC,sBAAtB,IAAgDN,UAAU,CAACG,0BAAD,CAAhE;AACA,SAAO,CAACE,mBAAD,EAAsBC,sBAAtB,CAAP;AACD;AAOD,OAAO,SAASC,2BAAT,CAAqC;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAArC,EAA2F;AAChG,QAAM,CAACJ,mBAAD,EAAsBK,uBAAtB,IAAiDT,QAAQ,CAAqB,IAArB,CAA/D;;AACA,QAAMK,sBAAsB,GAAIK,WAAD,IAC7BD,uBAAuB,CAACE,eAAe,IAAKA,eAAe,KAAKD,WAApB,GAAkC,IAAlC,GAAyCA,WAA9D,CADzB;;AAGAT,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMW,YAAY,GAAG,MAAMH,uBAAuB,CAAC,IAAD,CAAlD;;AACAF,IAAAA,IAAI,CAACM,EAAL,CAAQ,cAAR,EAAwBD,YAAxB;AACA,WAAO,MAAM;AACXL,MAAAA,IAAI,CAACO,GAAL,CAAS,cAAT,EAAyBF,YAAzB;AACD,KAFD;AAGD,GANQ,EAMN,CAACL,IAAD,CANM,CAAT;AAQA,sBACE,oBAAC,0BAAD,CAA4B,QAA5B;AAAqC,IAAA,KAAK,EAAE,CAACH,mBAAD,EAAsBC,sBAAtB,CAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGG,QADH,CADF;AAKD","sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\nimport { Participant, Room } from 'twilio-video';\n\ntype selectedParticipantContextType = [Participant | null, (participant: Participant) => void];\n\nexport const selectedParticipantContext = createContext<selectedParticipantContextType>(null!);\n\nexport default function useSelectedParticipant() {\n  const [selectedParticipant, setSelectedParticipant] = useContext(selectedParticipantContext);\n  return [selectedParticipant, setSelectedParticipant] as const;\n}\n\ntype SelectedParticipantProviderProps = {\n  room: Room;\n  children: React.ReactNode;\n};\n\nexport function SelectedParticipantProvider({ room, children }: SelectedParticipantProviderProps) {\n  const [selectedParticipant, _setSelectedParticipant] = useState<Participant | null>(null);\n  const setSelectedParticipant = (participant: Participant) =>\n    _setSelectedParticipant(prevParticipant => (prevParticipant === participant ? null : participant));\n\n  useEffect(() => {\n    const onDisconnect = () => _setSelectedParticipant(null);\n    room.on('disconnected', onDisconnect);\n    return () => {\n      room.off('disconnected', onDisconnect);\n    };\n  }, [room]);\n\n  return (\n    <selectedParticipantContext.Provider value={[selectedParticipant, setSelectedParticipant]}>\n      {children}\n    </selectedParticipantContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}