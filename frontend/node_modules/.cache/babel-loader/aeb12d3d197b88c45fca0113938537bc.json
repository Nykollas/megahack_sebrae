{"ast":null,"code":"var _jsxFileName = \"/home/ascencion/sebrae_megahack/src/components/VideoTrack/VideoTrack.tsx\";\nimport React, { useRef, useEffect } from 'react';\nimport { styled } from '@material-ui/core/styles';\nconst Video = styled('video')({\n  width: '100%',\n  maxHeight: '100%',\n  objectFit: 'contain'\n});\nexport default function VideoTrack({\n  track,\n  isLocal,\n  priority\n}) {\n  const ref = useRef(null);\n  useEffect(() => {\n    const el = ref.current;\n    el.muted = true;\n\n    if (track.setPriority && priority) {\n      track.setPriority(priority);\n    }\n\n    track.attach(el);\n    return () => {\n      track.detach(el);\n\n      if (track.setPriority && priority) {\n        // Passing `null` to setPriority will set the track's priority to that which it was published with.\n        track.setPriority(null);\n      }\n    };\n  }, [track, priority]); // The local video track is mirrored.\n\n  const isFrontFacing = track.mediaStreamTrack.getSettings().facingMode !== 'environment';\n  const style = isLocal && isFrontFacing ? {\n    transform: 'rotateY(180deg)'\n  } : {};\n  return /*#__PURE__*/React.createElement(Video, {\n    ref: ref,\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 10\n    }\n  });\n}","map":{"version":3,"sources":["/home/ascencion/sebrae_megahack/src/components/VideoTrack/VideoTrack.tsx"],"names":["React","useRef","useEffect","styled","Video","width","maxHeight","objectFit","VideoTrack","track","isLocal","priority","ref","el","current","muted","setPriority","attach","detach","isFrontFacing","mediaStreamTrack","getSettings","facingMode","style","transform"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,QAAyC,OAAzC;AAEA,SAASC,MAAT,QAAuB,0BAAvB;AAGA,MAAMC,KAAK,GAAGD,MAAM,CAAC,OAAD,CAAN,CAAgB;AAC5BE,EAAAA,KAAK,EAAE,MADqB;AAE5BC,EAAAA,SAAS,EAAE,MAFiB;AAG5BC,EAAAA,SAAS,EAAE;AAHiB,CAAhB,CAAd;AAYA,eAAe,SAASC,UAAT,CAAoB;AAAEC,EAAAA,KAAF;AAASC,EAAAA,OAAT;AAAkBC,EAAAA;AAAlB,CAApB,EAAmE;AAChF,QAAMC,GAAG,GAAGX,MAAM,CAAmB,IAAnB,CAAlB;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMW,EAAE,GAAGD,GAAG,CAACE,OAAf;AACAD,IAAAA,EAAE,CAACE,KAAH,GAAW,IAAX;;AACA,QAAIN,KAAK,CAACO,WAAN,IAAqBL,QAAzB,EAAmC;AACjCF,MAAAA,KAAK,CAACO,WAAN,CAAkBL,QAAlB;AACD;;AACDF,IAAAA,KAAK,CAACQ,MAAN,CAAaJ,EAAb;AACA,WAAO,MAAM;AACXJ,MAAAA,KAAK,CAACS,MAAN,CAAaL,EAAb;;AACA,UAAIJ,KAAK,CAACO,WAAN,IAAqBL,QAAzB,EAAmC;AACjC;AACAF,QAAAA,KAAK,CAACO,WAAN,CAAkB,IAAlB;AACD;AACF,KAND;AAOD,GAdQ,EAcN,CAACP,KAAD,EAAQE,QAAR,CAdM,CAAT,CAHgF,CAmBhF;;AACA,QAAMQ,aAAa,GAAGV,KAAK,CAACW,gBAAN,CAAuBC,WAAvB,GAAqCC,UAArC,KAAoD,aAA1E;AACA,QAAMC,KAAK,GAAGb,OAAO,IAAIS,aAAX,GAA2B;AAAEK,IAAAA,SAAS,EAAE;AAAb,GAA3B,GAA8D,EAA5E;AAEA,sBAAO,oBAAC,KAAD;AAAO,IAAA,GAAG,EAAEZ,GAAZ;AAAiB,IAAA,KAAK,EAAEW,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD","sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport { IVideoTrack } from '../../types';\nimport { styled } from '@material-ui/core/styles';\nimport { Track } from 'twilio-video';\n\nconst Video = styled('video')({\n  width: '100%',\n  maxHeight: '100%',\n  objectFit: 'contain',\n});\n\ninterface VideoTrackProps {\n  track: IVideoTrack;\n  isLocal?: boolean;\n  priority?: Track.Priority | null;\n}\n\nexport default function VideoTrack({ track, isLocal, priority }: VideoTrackProps) {\n  const ref = useRef<HTMLVideoElement>(null!);\n\n  useEffect(() => {\n    const el = ref.current;\n    el.muted = true;\n    if (track.setPriority && priority) {\n      track.setPriority(priority);\n    }\n    track.attach(el);\n    return () => {\n      track.detach(el);\n      if (track.setPriority && priority) {\n        // Passing `null` to setPriority will set the track's priority to that which it was published with.\n        track.setPriority(null);\n      }\n    };\n  }, [track, priority]);\n\n  // The local video track is mirrored.\n  const isFrontFacing = track.mediaStreamTrack.getSettings().facingMode !== 'environment';\n  const style = isLocal && isFrontFacing ? { transform: 'rotateY(180deg)' } : {};\n\n  return <Video ref={ref} style={style} />;\n}\n"]},"metadata":{},"sourceType":"module"}